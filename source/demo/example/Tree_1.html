<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <title>qooxdoo demo</title>
  <link type="text/css" rel="stylesheet" href="../demolayout.css"/>
  <script type="text/javascript" src="../demoinclude.js"></script>
</head>
<body>
  <script type="text/javascript" src="../demolayout.js"></script>

  <div id="demoDescription">
    <p>Shows a tree, with user-defined icons for some nodes.</p>
  </div>

  <script type="text/javascript">
    window.application.main = function()
    {
      var t = new QxTree("Root");

      with(t)
      {
        setBackgroundColor(255);
        setBorder(qx.renderer.border.BorderObject.presets.inset);
        setOverflow("scrollY");

        setHeight(null);
        setTop(48);
        setLeft(20);
        setWidth(200);
        setBottom(48);
      };

      this.add(t);
      // One icon for selected and one for unselected states
      var te1 = new QxTreeFolder("Desktop", "icons/16/desktop.png", "icons/16/dictionary.png");
      t.add(te1);

      desktop = te1;

      var te1_1 = new QxTreeFolder("Files");
      var te1_2 = new QxTreeFolder("Workspace");
      var te1_3 = new QxTreeFolder("Network");
      var te1_4 = new QxTreeFolder("Trash");

      te1.add(te1_1, te1_2, te1_3, te1_4);

      // One icon specified, and used for both selected unselected states
      var te1_2_1 = new QxTreeFile("Windows (C:)", "icons/16/harddrive.png");
      var te1_2_2 = new QxTreeFile("Documents (D:)", "icons/16/harddrive.png");

      te1_2.add(te1_2_1, te1_2_2);

      arbeitsplatz = te1_2;


      var te2 = new QxTreeFolder("Inbox");
      posteingang = te2;

      var te2_1 = new QxTreeFolder("Presets");
      var te2_2 = new QxTreeFolder("Sent");
      var te2_3 = new QxTreeFolder("Trash", "icons/16/trash.png");
      var te2_4 = new QxTreeFolder("Data");
      var te2_5 = new QxTreeFolder("Edit");

      editieren = te2_5;

      var te2_5_1 = new QxTreeFolder("Chat");
      var te2_5_2 = new QxTreeFolder("Pustefix");
      var te2_5_3 = new QxTreeFolder("TINC");

      var te2_5_3_1 = new QxTreeFolder("Announce");
      var te2_5_3_2 = new QxTreeFolder("Devel");

      te2_5_3.add(te2_5_3_1, te2_5_3_2);

      te2_5.add(te2_5_1, te2_5_2, te2_5_3);

      var te2_6 = new QxTreeFolder("Lists");

      var te2_6_1 = new QxTreeFolder("Relations");
      var te2_6_2 = new QxTreeFolder("Company");
      var te2_6_3 = new QxTreeFolder("Questions");
      var te2_6_4 = new QxTreeFolder("Internal");
      var te2_6_5 = new QxTreeFolder("Products");
      var te2_6_6 = new QxTreeFolder("Press");
      var te2_6_7 = new QxTreeFolder("Development");
      var te2_6_8 = new QxTreeFolder("Competition");

      te2_6.add(te2_6_1, te2_6_2, te2_6_3, te2_6_4, te2_6_5, te2_6_6, te2_6_7, te2_6_8);

      var te2_7 = new QxTreeFolder("Personal");

      var te2_7_1 = new QxTreeFolder("Bugs");
      var te2_7_2 = new QxTreeFolder("Family");
      var te2_7_3 = new QxTreeFolder("Projects");
      var te2_7_4 = new QxTreeFolder("Holiday");

      te2_7.add(te2_7_1, te2_7_2, te2_7_3, te2_7_4);
      
      var te2_8 = new QxTreeFolder("Big");
      
      for (var i=0;i<50; i++) {
        te2_8.add(new QxTreeFolder("Item " + i));
      };

      var te2_9 = new QxTreeFolder("Spam");
      spam = te2_9;
      
      te2.add(te2_1, te2_2, te2_3, te2_4, te2_5, te2_6, te2_7, te2_8, te2_9);

      t.add(te2);
      this.add(t);






      var commandFrame = new QxFieldSet("Control");

      with(commandFrame)
      {
        setTop(48);
        setLeft(250);

        setWidth("auto");
        setHeight("auto");
      };

      this.add(commandFrame);




      var tCurrentLabel = new qx.ui.basic.Atom("Current Folder: ");

      with(tCurrentLabel)
      {
        setLeft(0);
        setTop(0);
      };

      commandFrame.add(tCurrentLabel);



      var tCurrentInput = new qx.ui.form.TextField;

      with(tCurrentInput)
      {
        setLeft(0);
        setRight(0);
        setTop(20);

        setReadOnly(true);
      };

      commandFrame.add(tCurrentInput);

      t.getManager().addEventListener("changeSelection", function(e) {
        tCurrentInput.setValue(e.getData().getFirst()._labelObject.getHtml());
      });

      

      var tDoubleClick = new qx.ui.form.CheckBox("Use double click?");

      with(tDoubleClick) {
        setTop(60);
        setLeft(0);
      };

      commandFrame.add(tDoubleClick);

      tDoubleClick.addEventListener("changeChecked", function(e) { t.setUseDoubleClick(e.getData()); });




      var tTreeLines = new qx.ui.form.CheckBox("Use tree lines?");

      with(tTreeLines) {
        setTop(80);
        setLeft(0);
        setChecked(true);
      };

      commandFrame.add(tTreeLines);

      tTreeLines.addEventListener("changeChecked", function(e) { t.setUseTreeLines(e.getData()); });


    };
  </script>
</body>
</html>
