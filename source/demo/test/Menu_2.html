<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <title>qooxdoo demo</title>
  <link type="text/css" rel="stylesheet" href="../demolayout.css"/>
  <script type="text/javascript" src="../demoinclude.js"></script>
</head>
<body>
  <script type="text/javascript" src="../demolayout.js"></script>

  <div id="demoDescription">
    <p>QxMenu Implementation.</p>
    <p>Added QxCommand support tests.</p>
    <p>Create the menu instances on the first opening.</p>
  </div>

  <script type="text/javascript">
    window.application.main = function()
    {
      var d = this.getClientWindow().getClientDocument();

      var q1 = new QxCommand("Ctrl+Z");
      q1.addEventListener("execute", function(e) {
        alert("Undo");
      });

      var q2 = new QxCommand("Ctrl+Y");
      q2.addEventListener("execute", function(e) {
        alert("Redo");
      });

      var q3 = new QxCommand("Ctrl+X");
      q3.addEventListener("execute", function(e) {
        alert("Cut");
      });

      var q4 = new QxCommand("Ctrl+C");
      q4.addEventListener("execute", function(e) {
        alert("Copy");
      });

      var q5 = new QxCommand("Ctrl+V");
      q5.addEventListener("execute", function(e) {
        alert("Paste");
      });

      var q6 = new QxCommand("Del");
      q6.addEventListener("execute", function(e) {
        alert("Delete");
      });

      var q7 = new QxCommand("Ctrl+A");
      q7.addEventListener("execute", function(e) {
        alert("Select All");
      });

      var q8 = new QxCommand("Ctrl+F");
      q8.addEventListener("execute", function(e) {
        alert("Search");
      });

      var q9 = new QxCommand("Ctrl+G");
      q9.addEventListener("execute", function(e) {
        alert("Search Again");
      });

      var q10 = new QxCommand();
      q10.addEventListener("execute", function(e) {
        alert("Syntax Highlighting");
      });

      var q11 = new QxCommand("Esc");
      q11.addEventListener("execute", function(e) {
        alert("Escape");
      });

      var q12 = new QxCommand(null, QxKeyEvent.keys.space);
      q12.addEventListener("execute", function(e) {
        alert("Space");
      });


      var m1, m2, m3;

      function createMenus()
      {
        m2 = new QxMenu;

        var mb2_01 = new QxMenuButton("New Window");
        var mb2_02 = new QxMenuButton("Overlapping");
        var mb2_03 = new QxMenuButton("Split Vertical");
        var mb2_04 = new QxMenuButton("Split Horizontal");
        var mb2_05 = new QxMenuButton("Next Window");
        var mb2_06 = new QxMenuButton("Previous Window");

        m2.add(mb2_01, mb2_02, mb2_03, mb2_04, mb2_05, mb2_06);




        m3 = new QxMenu;

        var mb3_01 = new QxMenuButton("Tahoma, 11pt");
        var mb3_02 = new QxMenuButton("Tahoma, 12pt");
        var mb3_03 = new QxMenuButton("Tahoma, 13pt");
        var mb3_04 = new QxMenuButton("Tahoma, 14pt");
        var mb3_05 = new QxMenuButton("Tahoma, 15pt");

        m3.add(mb3_01, mb3_02, mb3_03, mb3_04, mb3_05);



        m1 = new QxMenu;

        var mb1_01 = new QxMenuButton("View/Lists", null, q12);
        var mb1_02 = new QxMenuButton("Syntax Highlighting", null, q10);
        var ms1    = new QxMenuSeparator();
        var mb1_03 = new QxMenuButton("Window Font", null, q11);
        var mb1_04 = new QxMenuButton("Printer Font", null, null, m3);
        var ms2    = new QxMenuSeparator();
        var mb1_05 = new QxMenuButton("Undo", null, q1);
        var mb1_06 = new QxMenuButton("Redo", null, q2);
        var ms3    = new QxMenuSeparator();
        var mb1_07 = new QxMenuButton("Cut", "icons/16/edit-cut.png", q3);
        var mb1_08 = new QxMenuButton("Copy", "icons/16/edit-copy.png", q4);
        var mb1_09 = new QxMenuButton("Paste", "icons/16/edit-paste.png", q5);
        var mb1_10 = new QxMenuButton("Delete", "icons/16/edit-delete.png", q6);
        var mb1_11 = new QxMenuButton("Select All", null, q7);
        var ms4    = new QxMenuSeparator();
        var mb1_12 = new QxMenuButton("Search", null, q8);
        var mb1_13 = new QxMenuButton("Search Again", null, q9);
        var ms5    = new QxMenuSeparator();
        var mb1_14 = new QxMenuButton("View", null, null, m2);
        var mb1_15 = new QxMenuButton("Editor Settings...");
        var mb1_16 = new QxMenuButton("Editor Plugins");
        var mb1_17 = new QxMenuButton("Framework Settings");

        m1.add(mb1_01, mb1_02, ms1, mb1_03, mb1_04, ms2, mb1_05, mb1_06, ms3, mb1_07, mb1_08, mb1_09, mb1_10, mb1_11, ms4, mb1_12, mb1_13, ms5, mb1_14, mb1_15, mb1_16, mb1_17);


        d.add(m1, m2, m3);
      };





      var w1 = new QxButton("Open");

      w1.setTop(48);
      w1.setLeft(20);

      w1.addEventListener("click", function(e)
      {
        if (!m1) {
          createMenus();
        };

        if (m1.isSeeable())
        {
          m1.hide();
        }
        else
        {
          var el = this.getElement();

          m1.setLeft(QxDom.getComputedPageBoxLeft(el));
          m1.setTop(QxDom.getComputedPageBoxBottom(el));

          m1.show();
        };

        e.setPropagationStopped(true);
      });

      w1.addEventListener("mousedown", function(e)
      {
        e.setPropagationStopped(true);
      });


      d.add(w1);









      // Icon Themes
      QxImageManager.createThemeList(d, 180, 48);

      // Color Themes
      QxColorManager.createThemeList(d, 380, 48);


    };
  </script>
</body>
</html>
