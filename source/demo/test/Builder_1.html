<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" xmlns:qx="http://qooxdoo.sourceforge.net/builder-1.dtd">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <title>qooxdoo demo</title>
  <link type="text/css" rel="stylesheet" href="../demolayout.css"/>
  <!--[if IE]>
  <link type="text/css" rel="stylesheet" href="../demolayout_ie.css"/>
  <![endif]-->
  <script type="text/javascript" src="../demoinclude.js"></script>
</head>
<body>
  <script type="text/javascript" src="../demolayout.js"></script>

  <script type="text/javascript">
    qx.core.Init.defineMain(function() {
      new qx.client.Builder().build(this, document.getElementById('widgets'));
    }
    
    // test delegate object
    var d = {
      hello : 'world',
      click : function(e) {
        alert(e + '\n\nclick received at delegate object\n\n' + this.hello);
      }
    }
    
    // test delegate function
    var f = function(e) {
        alert(e + '\n\nclick received at delegate function\n\n');
    }
  </script>
  <div id="demoDescription">
    <p>qx.client.Builder demo.</p>
    <p>Build your web apps using qooxdooml.</p>
    <p>Textarea example</p>
  </div>
  <textarea id='widgets' style='display:none'> 
    <qx:widgets xmlns:qx='qooxdoo'>
  
      <qx:button id='btn' label='Click Me!!!' location='20,50'>
          
          <!-- function body event listener -->
          <qx:eventListener type='click' args='event'>
          btn.setLabel(btn.getLabel() + ".");
          alert(event + "\n\nClicked on: " + this.getLabel()); 
        </qx:eventListener>

        <!-- 
          global object.method delegation
          when the button is clicked, d.click(event) will be called
          -->
        <qx:eventListener type='click' delegate='d.click'/>
        
        <!-- 
          global function delegation
          when the button is clicked, f(event) will be called
          -->
        <qx:eventListener type='click' delegate='f'/>
        
      </qx:button>
      <qx:atom id='atom1' label='Test No #1' icon='icons/16/penguin.png' border='qx.renderer.border.Border.presets.black' location='20,90'/>

      <qx:button label='Test No #2' icon='icons/16/penguin.png' location='20,120'>
          <qx:eventListener type='click'>
            atom1.setLabel(atom1.getLabel() + ".");
          </qx:eventListener>
      </qx:button>
      
      <qx:atom label='Test No #3' icon='icons/16/penguin.png' location='20,160'/>
    
     <qx:atom label='a' icon='icons/16/penguin.png' location='20,200'/>
    <qx:atom label='b' icon='icons/16/penguin.png' location='20,240'/>
    </qx:widgets>
  </textarea>
</body>
</html>
