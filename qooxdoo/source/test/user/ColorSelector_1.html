<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <meta http-equiv="MsThemeCompatible" content="yes" />
  <meta http-equiv="ImageToolBar" content="no" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="-1" />
  <meta http-equiv="Cache-Control" content="no-cache" />
  <meta name="MSSmartTagsPreventParsing" content="yes" />

  <title>qooxdoo demo release</title>
  <link type="text/css" rel="StyleSheet" href="../../style/layouts/application.css"/>

  <script type="text/javascript" src="../../../tools/script/includer.js"></script>
</head>
<body>
  <script type="text/javascript" src="../../../tools/script/layout.js"></script>

  <div id="testDescription">
    <p></p>
  </div>

  <script type="text/javascript">
  window.application.main = function()
  {
    var d = this.getClientWindow().getDocument();
    
    var vOpenerButton = new QxButton("Open ColorSelector");

    with(vOpenerButton)
    {
      setLeft(20);
      setTop(48);
    };
    
    var vColorSelector = new QxColorSelector;
    vColorSelector.setEnableShader(false);
    
    var vTemplateColors = [[30,150,202], [50,110,110], [240,201,203], [21,59,182], [30,203,23]];
    var vHistoryColors = [[40,93,102], [201,255,255], [202,201,140], [91,20,250]];
    
    var vColorPopup = new QxColorPresetPopup(vTemplateColors, vHistoryColors, vColorSelector);
    
    vOpenerButton.addEventListener("click", function(e) 
    {
      if (vColorPopup.getVisible())
      {
        vColorPopup.setVisible(false);
      }
      else
      {
        vColorPopup.setVisible(true);
        vColorPopup.setLeft(this.getComputedPageBoxLeft());
        vColorPopup.setTop(this.getComputedPageBoxTop() + this.getComputedBoxHeight());
        vColorPopup.setZIndex(this.getZIndex()+1);
      };      
    });
    
    vColorSelector._btnok.addEventListener("click", function(e)
    {
      vColorSelector.setVisible(false);
      vColorPopup.setCurrentColor(vColorSelector.getCurrentColor());
    });
    
    vColorSelector._btncancel.addEventListener("click", function(e)
    {
      vColorSelector.setVisible(false);
    });
    
    d.add(vColorSelector, vOpenerButton, vColorPopup);
  };
  </script>
</body>
</html>