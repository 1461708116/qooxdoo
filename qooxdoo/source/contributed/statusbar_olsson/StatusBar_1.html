<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de">
<head>
  <script type="text/javascript">window._htmlstart=(new Date).valueOf()</script>

  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15" />
  <meta http-equiv="MsThemeCompatible" content="yes" />
  <meta http-equiv="ImageToolBar" content="no" />
  <meta name="MSSmartTagsPreventParsing" content="yes" />

  <title>qooxdoo demo</title>
  <link type="text/css" rel="stylesheet" href="../../style/qooxdoo.css"/>
  <link type="text/css" rel="stylesheet" href="../../style/demolayout.css"/>

  <script type="text/javascript" src="../../../tools/script/includer.js"></script>
</head>
<body>
  <script type="text/javascript" src="../../../tools/script/demolayout.js"></script>

  <div id="demoDescription">
    <p>Testing StatusBar implementation.</p>
    <p>The elements of the status bar will be created on the first open of the QxStatusBar.</p>
  </div>

  <script type="text/javascript">
    window.application.main = function()
    {
      var doc = this.getClientWindow().getClientDocument();

      var mainW = new QxWindow("Test of status bar");
      mainW.setSpace(20, 400, 48, 250);

      var mainDL = new QxDockLayout();
      mainDL.setHeight("100%");
      mainDL.setWidth("100%");
      mainDL.setBorder(2, "inset");
      mainDL.setBackgroundColor("white");

      var statusSB = new QxStatusBar();

      var statusL = new QxLabel("Ready");
      var statusSBP1 = new QxStatusBarPane(statusL);
      statusSBP1.setWidth("50%");

      var numL = new QxLabel();
      var statusSBP2 = new QxStatusBarPane(numL);
      statusSBP2.setWidth(30);
      statusSBP2.setLeft(95);

      var win = this.getClientWindow();
//      win.addEventListener(QxConst.EVENT_TYPE_KEYDOWN, win._onkeydown, win);

      function _onkeydown(e)
      {
        if(e.getKeyCode() == 90) // The NUM key
        {
          numL.setHtml("NUM");
        }
        else
        {
          numL.setHtml("");
        };
      };

      var digitalClockC = new QxClockDigital();
      var statusSBP3 = new QxStatusBarPane(digitalClockC);
      statusSBP3.setLeft(98);

      statusSB.add(statusSBP1, statusSBP2, statusSBP3);

      mainDL.addBottom(statusSB);

      mainW.add(mainDL);

      doc.add(mainW);

      mainW.open();
    };
  </script>
</body>
</html>
